<app-navbar></app-navbar> <br />

<div class="card card-body mx-auto mb-4 w-60">
  <h2 class="title mb-2">Register a New User</h2>
  <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
    <div class="form-group">
      <label>Name:</label>
      <input
        [(ngModel)]="user.name"
        [ngClass]="{
          'is-invalid': userName.errors && userName.touched
        }"
        type="text"
        class="form-control"
        name="name"
        #userName="ngModel"
        required
        minlength="2"
      />
      <div [hidden]="!userName.errors?.required" class="invalid-feedback">
        Name is required.
      </div>
      <div [hidden]="!userName.errors?.minlength" class="invalid-feedback">
        Name must be a minimum of 2 characters.
      </div>
    </div>
    <div class="form-group">
      <label>Email:</label>
      <input
        [(ngModel)]="user.username"
        [ngClass]="{
          'is-invalid': userUsername.errors && userUsername.touched
        }"
        type="text"
        class="form-control"
        name="username"
        #userUsername="ngModel"
        required
        pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$"
      />
      <div [hidden]="!userUsername.errors?.required" class="invalid-feedback">
        Email is required.
      </div>
      <div [hidden]="!userUsername.errors?.pattern" class="invalid-feedback">
        Email must be valid.
      </div>
    </div>
    <div class="form-group">
      <label>Password:</label>
      <input
        [(ngModel)]="user.password"
        [ngClass]="{
          'is-invalid': userPassword.errors && userPassword.touched
        }"
        type="text"
        class="form-control"
        name="password"
        #userPassword="ngModel"
        required
        minlength="7"
      />
      <div [hidden]="!userPassword.errors?.required" class="invalid-feedback">
        Password is required.
      </div>
      <div [hidden]="!userPassword.errors?.minlength" class="invalid-feedback">
        Password must be a minimum of 7 characters.
      </div>
    </div>
    <button
      [disabled]="!userForm.form.valid"
      class="btn btn-block btn-dark mb-2"
      type="submit"
    >
      register user
    </button>
  </form>
</div>

<!-- <ul *ngIf="users.length > 0 && showUserForm">
  <li id="users" class="card card-body mb-2" *ngFor="let user of users">
    <h3>
      {{ user.name }}
      <div class="btnContainer">
        <small
          ><button
            (click)="user.hide = !user.hide"
            class="icon btn btn-dark btn-sm"
          >
            <i [ngClass]="user.hide ? 'fa fa-plus' : 'fa fa-minus'"></i></button
        ></small>
      </div>
    </h3>
    <ul class="list-group" *ngIf="!user.hide && user.username">
      <li class="list-group-item" *ngIf="!user.hide">
        {{ user.username }}
      </li>
    </ul>
  </li>
</ul>

<h3 *ngIf="users.length < 1">None found</h3>
<h5 *ngIf="!loaded">LOADING USERS....</h5> -->
